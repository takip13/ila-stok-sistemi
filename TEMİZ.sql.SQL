--------------------------------------------------------
--  File created - Pazartesi-Ocak-20-2020   
--------------------------------------------------------
DROP TABLE "EYS_PER_KIMLIK_BILGILERI" cascade constraints;
DROP TABLE "ILAC_DETAY" cascade constraints;
DROP TABLE "ILAC_SATIS" cascade constraints;
DROP TABLE "ILAC_STOK" cascade constraints;
DROP TABLE "ILAC_TURLERI" cascade constraints;
DROP TABLE "RECETELER" cascade constraints;
DROP TABLE "URETICI_BILGILERI" cascade constraints;
DROP PROCEDURE "SATIS_GUNCELLE";
DROP PROCEDURE "SATIS_KAYIT";
DROP PROCEDURE "SATIS_LISTELE";
DROP PROCEDURE "SATIS_SIL";
--------------------------------------------------------
--  DDL for Table EYS_PER_KIMLIK_BILGILERI
--------------------------------------------------------

  CREATE TABLE "EYS_PER_KIMLIK_BILGILERI" 
   (	"PER_TC_NO" NUMBER(11,0), 
	"PER_SIFRE" NUMBER, 
	"PER_KULLANICI_ADI" VARCHAR2(30 BYTE), 
	"PER_KULLANICI_SOYADI" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ILAC_DETAY
--------------------------------------------------------

  CREATE TABLE "ILAC_DETAY" 
   (	"ILAC_KODU" NUMBER, 
	"ILAC_ADI" VARCHAR2(50 BYTE), 
	"URETICI_KODU" NUMBER, 
	"ILAC_TUR_KODU" NUMBER, 
	"RECETE_KODU" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ILAC_SATIS
--------------------------------------------------------

  CREATE TABLE "ILAC_SATIS" 
   (	"MUSTERI_TC_NO" NUMBER, 
	"ILAC_KODU" NUMBER, 
	"ADET" NUMBER, 
	"SATIS_TARIHI" DATE, 
	"RECETE_NO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ILAC_STOK
--------------------------------------------------------

  CREATE TABLE "ILAC_STOK" 
   (	"ILAC_KODU" NUMBER, 
	"SON_KULLANMA_TARIHI" DATE, 
	"ADET" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ILAC_TURLERI
--------------------------------------------------------

  CREATE TABLE "ILAC_TURLERI" 
   (	"ILAC_TURU_KODU" NUMBER, 
	"ILAC_TURU" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table RECETELER
--------------------------------------------------------

  CREATE TABLE "RECETELER" 
   (	"RECETE_KODU" NUMBER, 
	"RECETE_TIPI" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table URETICI_BILGILERI
--------------------------------------------------------

  CREATE TABLE "URETICI_BILGILERI" 
   (	"URETICI_KOD" NUMBER, 
	"URETICI_ADI" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into EYS_PER_KIMLIK_BILGILERI
SET DEFINE OFF;
Insert into EYS_PER_KIMLIK_BILGILERI (PER_TC_NO,PER_SIFRE,PER_KULLANICI_ADI,PER_KULLANICI_SOYADI) values ('46585769550','4321','Nahit','Ozcepni');
Insert into EYS_PER_KIMLIK_BILGILERI (PER_TC_NO,PER_SIFRE,PER_KULLANICI_ADI,PER_KULLANICI_SOYADI) values ('43351933528','1234','Ufuk','Akgul');
REM INSERTING into ILAC_DETAY
SET DEFINE OFF;
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('2','ZEKAS','1','2','2');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('3','XEVAL','2','3','1');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('4','PELTAM','6','6','4');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('5','MINOSET','5','1','1');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('6','ALLERSET','1','3','3');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('8','PENTRAN','5','1','1');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('10','OLARAKS','1','1','3');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('11','KIRATAX','4','1','3');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('12','ZENTAN','2','7','3');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('13','PELARTAM','9','3','3');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('14','TORANAN','1','1','1');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('15','POLARTZAM','7','1','2');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('16','AGÃœMENTIN','3','4','3');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('18','MAJEZIK','6','1','1');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('19','DXING','1','1','3');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('20','PERAX','1','1','2');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('21','LEXATRAN','1','1','1');
Insert into ILAC_DETAY (ILAC_KODU,ILAC_ADI,URETICI_KODU,ILAC_TUR_KODU,RECETE_KODU) values ('22','DAXATPAN','1','2','4');
REM INSERTING into ILAC_SATIS
SET DEFINE OFF;
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769550','3','2',to_date('07/12/2019','DD/MM/RRRR'),'1');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769520','4','15',to_date('07/12/2019','DD/MM/RRRR'),'2');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769553','5','15',to_date('05/12/2019','DD/MM/RRRR'),'1');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769554','10','15',to_date('05/12/2019','DD/MM/RRRR'),'2');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('36585769554','10','24',to_date('05/12/2019','DD/MM/RRRR'),'3');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769550','1','3',to_date('07/12/2019','DD/MM/RRRR'),'11');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769520','3','1',to_date('06/12/2019','DD/MM/RRRR'),'3');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769552','5','3',to_date('06/12/2019','DD/MM/RRRR'),'1');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769550','1','2',to_date('06/12/2019','DD/MM/RRRR'),'1');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('11111111112','5','15',to_date('29/12/2019','DD/MM/RRRR'),'5');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('46585769520','5','15',to_date('06/12/2019','DD/MM/RRRR'),'5');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('11111111111','2','3',to_date('06/12/2019','DD/MM/RRRR'),'12');
Insert into ILAC_SATIS (MUSTERI_TC_NO,ILAC_KODU,ADET,SATIS_TARIHI,RECETE_NO) values ('12345678901','5','1',to_date('07/12/2019','DD/MM/RRRR'),'2');
REM INSERTING into ILAC_STOK
SET DEFINE OFF;
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('5',to_date('11/07/2001','DD/MM/RRRR'),'29');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('3',to_date('06/12/2009','DD/MM/RRRR'),'30');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('1',to_date('02/12/2019','DD/MM/RRRR'),'30');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('11',to_date('07/12/2019','DD/MM/RRRR'),'60');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('2',to_date('25/12/2019','DD/MM/RRRR'),'55');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('3',to_date('02/12/2016','DD/MM/RRRR'),'40');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('3',to_date('11/12/2016','DD/MM/RRRR'),'50');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('2',to_date('07/12/2019','DD/MM/RRRR'),'20');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('2',to_date('15/12/2019','DD/MM/RRRR'),'11');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('1',to_date('13/12/2019','DD/MM/RRRR'),'50');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('1',to_date('22/12/2019','DD/MM/RRRR'),'50');
Insert into ILAC_STOK (ILAC_KODU,SON_KULLANMA_TARIHI,ADET) values ('5',to_date('07/12/2019','DD/MM/RRRR'),'22');
REM INSERTING into ILAC_TURLERI
SET DEFINE OFF;
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('10','SPREY');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('3','KAPSUL');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('1','TABLET');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('2','EFERSAN TABLET');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('4','FLAKON');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('5','AMPUL');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('6','KREM');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('7','SAMPUAN');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('8','SURUP');
Insert into ILAC_TURLERI (ILAC_TURU_KODU,ILAC_TURU) values ('9','DAMLA');
REM INSERTING into RECETELER
SET DEFINE OFF;
Insert into RECETELER (RECETE_KODU,RECETE_TIPI) values ('3','MOR');
Insert into RECETELER (RECETE_KODU,RECETE_TIPI) values ('2','YESIL');
Insert into RECETELER (RECETE_KODU,RECETE_TIPI) values ('4','TURUNCU');
Insert into RECETELER (RECETE_KODU,RECETE_TIPI) values ('1','KIRMIZI');
REM INSERTING into URETICI_BILGILERI
SET DEFINE OFF;
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('11','TIGER SANAYI AS');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('3','ALI RAIF ILAC SANAYI');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('1','ABDI IBRAHIM ILAC SANAYI');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('4','PALIFORMA ILAC SANAYI');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('5','ATLA ILAC PAZARLAMA');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('6','BAYER TURK KIMYA SANAYI');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('7','CANSIN MEDIKAL ILAC SANAYI');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('8','DEM ILAC');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('10','ECZACIBASI ILAC SANAYI');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('9','DROGSAN A.S');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('2','ADEKA');
Insert into URETICI_BILGILERI (URETICI_KOD,URETICI_ADI) values ('12','AA');
--------------------------------------------------------
--  DDL for Index ILAC_STOK_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ILAC_STOK_PK" ON "ILAC_STOK" ("ILAC_KODU", "SON_KULLANMA_TARIHI") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ILAC_TURLERI_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ILAC_TURLERI_PK" ON "ILAC_TURLERI" ("ILAC_TURU_KODU") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index URETICI_BILGILERI_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "URETICI_BILGILERI_PK" ON "URETICI_BILGILERI" ("URETICI_KOD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index RECETELER_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "RECETELER_PK" ON "RECETELER" ("RECETE_KODU") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ILAC_SATIS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ILAC_SATIS_PK" ON "ILAC_SATIS" ("MUSTERI_TC_NO", "RECETE_NO", "ILAC_KODU") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ILAC_DETAY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ILAC_DETAY_PK" ON "ILAC_DETAY" ("ILAC_KODU") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table ILAC_SATIS
--------------------------------------------------------

  ALTER TABLE "ILAC_SATIS" ADD CONSTRAINT "ILAC_SATIS_PK" PRIMARY KEY ("MUSTERI_TC_NO", "RECETE_NO", "ILAC_KODU")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "ILAC_SATIS" MODIFY ("MUSTERI_TC_NO" NOT NULL ENABLE);
 
  ALTER TABLE "ILAC_SATIS" MODIFY ("ILAC_KODU" NOT NULL ENABLE);
 
  ALTER TABLE "ILAC_SATIS" MODIFY ("ADET" NOT NULL ENABLE);
 
  ALTER TABLE "ILAC_SATIS" MODIFY ("RECETE_NO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ILAC_TURLERI
--------------------------------------------------------

  ALTER TABLE "ILAC_TURLERI" ADD CONSTRAINT "ILAC_TURLERI_PK" PRIMARY KEY ("ILAC_TURU_KODU")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "ILAC_TURLERI" MODIFY ("ILAC_TURU_KODU" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table RECETELER
--------------------------------------------------------

  ALTER TABLE "RECETELER" ADD CONSTRAINT "RECETELER_PK" PRIMARY KEY ("RECETE_KODU")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "RECETELER" MODIFY ("RECETE_KODU" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ILAC_DETAY
--------------------------------------------------------

  ALTER TABLE "ILAC_DETAY" ADD CONSTRAINT "ILAC_DETAY_PK" PRIMARY KEY ("ILAC_KODU")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "ILAC_DETAY" MODIFY ("ILAC_KODU" NOT NULL ENABLE);
 
  ALTER TABLE "ILAC_DETAY" MODIFY ("ILAC_ADI" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ILAC_STOK
--------------------------------------------------------

  ALTER TABLE "ILAC_STOK" ADD CONSTRAINT "ILAC_STOK_PK" PRIMARY KEY ("ILAC_KODU", "SON_KULLANMA_TARIHI")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "ILAC_STOK" MODIFY ("ILAC_KODU" NOT NULL ENABLE);
 
  ALTER TABLE "ILAC_STOK" MODIFY ("SON_KULLANMA_TARIHI" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table URETICI_BILGILERI
--------------------------------------------------------

  ALTER TABLE "URETICI_BILGILERI" MODIFY ("URETICI_KOD" NOT NULL ENABLE);
 
  ALTER TABLE "URETICI_BILGILERI" ADD CONSTRAINT "URETICI_BILGILERI_PK" PRIMARY KEY ("URETICI_KOD")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table EYS_PER_KIMLIK_BILGILERI
--------------------------------------------------------

  ALTER TABLE "EYS_PER_KIMLIK_BILGILERI" ADD PRIMARY KEY ("PER_TC_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "EYS_PER_KIMLIK_BILGILERI" MODIFY ("PER_SIFRE" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table ILAC_DETAY
--------------------------------------------------------

  ALTER TABLE "ILAC_DETAY" ADD CONSTRAINT "ILAC_TUR_PK" FOREIGN KEY ("ILAC_TUR_KODU")
	  REFERENCES "ILAC_TURLERI" ("ILAC_TURU_KODU") ENABLE;
 
  ALTER TABLE "ILAC_DETAY" ADD CONSTRAINT "RECETE_PK" FOREIGN KEY ("RECETE_KODU")
	  REFERENCES "RECETELER" ("RECETE_KODU") ENABLE;
 
  ALTER TABLE "ILAC_DETAY" ADD CONSTRAINT "URETICI_FK" FOREIGN KEY ("URETICI_KODU")
	  REFERENCES "URETICI_BILGILERI" ("URETICI_KOD") ENABLE;
--------------------------------------------------------
--  DDL for Trigger SATIS
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "SATIS" 
after INSERT
on ILAC_SATIS
FOR EACH ROW
begin
update ILAC_STOK a
      set a.adet=a.adet-(:new.adet) 
where a.ilac_kodu=:new.ilac_kodu 
     and a.son_kullanma_tarihi=(
                                     select 
                                            min(b.son_kullanma_tarihi)
                                     from
                                            ilac_stok b
                                     where
                                            a.ILAC_KODU = b.ILAC_KODU
                                 );
end;
/
ALTER TRIGGER "SATIS" ENABLE;
--------------------------------------------------------
--  DDL for Procedure SATIS_GUNCELLE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "SATIS_GUNCELLE" 
(
  TC IN NUMBER  
, ILAC IN NUMBER  
, MIKTAR IN NUMBER  
, TARIH IN DATE  
, RECETE IN NUMBER  
) AS 
BEGIN
  update ilac_satis set adet=miktar,satis_tarihi=tarih where musteri_tc_no=tc and ilac_kodu=ilac and recete_no=recete;
END SATIS_GUNCELLE;

/
--------------------------------------------------------
--  DDL for Procedure SATIS_KAYIT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "SATIS_KAYIT" 
(
  MUSTERI_TC IN NUMBER  
, ILAC_KODU IN NUMBER  
, ADET IN NUMBER  
, SATIS_TARIHI IN DATE  
, RECETE_NO IN NUMBER  
) AS 
BEGIN
 insert into ilac_satis values(musteri_tc,ilac_kodu,adet,satis_tarihi,recete_no);
END SATIS_KAYIT;

/
--------------------------------------------------------
--  DDL for Procedure SATIS_LISTELE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "SATIS_LISTELE" 
(
  Tc_p in out number,
  recete_kodu_p in out number,
  ilac_kodu_p in out number,
  adet_p out number,
  tarih_p  out date
  )
  AS
  BEGIN
  select *
  into 
  tc_p,ilac_kodu_p,adet_p,tarih_p,recete_kodu_p
  from ilac_satis
  where 
  musteri_tc_no=Tc_p and ilac_kodu=ilac_kodu_p and recete_no=recete_kodu_p;
  END;

/
--------------------------------------------------------
--  DDL for Procedure SATIS_SIL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "SATIS_SIL" 
(
  TC IN NUMBER  
, ILAC_KODLARI IN NUMBER  
, RECETE_KODLARI IN NUMBER  
) AS 
BEGIN
  
  delete from ilac_satis where musteri_tc_no=tc and ilac_kodu=ilac_kodlari and recete_no=recete_kodlari;

  NULL;
END SATIS_SIL;

/
